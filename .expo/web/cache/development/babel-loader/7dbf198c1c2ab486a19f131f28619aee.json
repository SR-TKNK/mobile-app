{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\PC\\\\Documents\\\\hocnhieuchut\\\\reactnative\\\\mobile-app\\\\screens\\\\RootTab\\\\MainTabScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { createMaterialBottomTabNavigator } from \"@react-navigation/material-bottom-tabs\";\nimport * as React from \"react\";\nimport axios from \"axios\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport HomeScreen from \"./HomeScreen\";\nimport MessagesScreen from \"./MessagesScreen\";\nimport CartScreen from \"./CartScreen\";\nimport AccountScreen from \"./AccountScreen\";\nimport OrderScreen from \"./OrderScreen\";\nimport Header from \"../../components/Header\";\nimport OrderDetails from \"../OrderDetails\";\nvar HomeStack = createNativeStackNavigator();\nvar MessagesStack = createNativeStackNavigator();\nvar CartStack = createNativeStackNavigator();\nvar AccountStack = createNativeStackNavigator();\nvar OrderStack = createNativeStackNavigator();\nvar Tab = createMaterialBottomTabNavigator();\n\nvar HomeStackScreen = function HomeStackScreen(_ref) {\n  var navigation = _ref.navigation;\n  return React.createElement(HomeStack.Navigator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, React.createElement(HomeStack.Screen, {\n    name: \"Home\",\n    component: HomeScreen,\n    options: {\n      header: function header() {\n        return React.createElement(Header, {\n          name: \"Trang ch\\u1EE7\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 34\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar CartStackScreen = function CartStackScreen(_ref2) {\n  var navigation = _ref2.navigation;\n  return React.createElement(CartStack.Navigator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, React.createElement(CartStack.Screen, {\n    name: \"Cart\",\n    component: CartScreen,\n    options: {\n      header: function header() {\n        return React.createElement(Header, {\n          name: \"Gi\\u1ECF h\\xE0ng\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 34\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar AccountStackScreen = function AccountStackScreen(_ref3) {\n  var navigation = _ref3.navigation;\n  return React.createElement(AccountStack.Navigator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, React.createElement(AccountStack.Screen, {\n    name: \"Account\",\n    component: AccountScreen,\n    options: {\n      headerShown: false\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar OrderStackScreen = function OrderStackScreen(_ref4) {\n  var navigation = _ref4.navigation;\n  return React.createElement(OrderStack.Navigator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, React.createElement(OrderStack.Screen, {\n    name: \"Order\",\n    component: OrderScreen,\n    options: {\n      header: function header() {\n        return React.createElement(Header, {\n          name: \"\\u0110\\u01A1n h\\xE0ng\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 34\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }), React.createElement(OrderStack.Screen, {\n    name: \"OrderDetails\",\n    component: OrderDetails,\n    options: {\n      header: function header() {\n        return React.createElement(Header, {\n          name: \"Th\\xF4ng tin \\u0111\\u01A1n h\\xE0ng\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 34\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar MessagesStackScreen = function MessagesStackScreen(_ref5) {\n  var navigation = _ref5.navigation;\n  return React.createElement(MessagesStack.Navigator, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, React.createElement(MessagesStack.Screen, {\n    options: {\n      header: function header() {\n        return React.createElement(Header, {\n          name: \"Th\\xF4ng b\\xE1o\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 34\n          }\n        });\n      }\n    },\n    name: \"Messages\",\n    component: MessagesScreen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar TAB_TO_RESET = 'Order';\n\nvar resetHomeStackOnTabPress = function resetHomeStackOnTabPress(_ref6) {\n  var navigation = _ref6.navigation,\n      route = _ref6.route;\n  return {\n    tabPress: function tabPress(e) {\n      var state = navigation.dangerouslyGetState();\n\n      if (state) {\n        var nonTargetTabs = state.routes.filter(function (r) {\n          return r.key !== e.target;\n        });\n        nonTargetTabs.forEach(function (tab) {\n          var _tab$state;\n\n          var tabName = tab == null ? void 0 : tab.name;\n          var stackKey = tab == null ? void 0 : (_tab$state = tab.state) == null ? void 0 : _tab$state.key;\n\n          if (stackKey && tabName === TAB_TO_RESET) {\n            navigation.dispatch(_objectSpread(_objectSpread({}, StackActions.popToTop()), {}, {\n              target: stackKey\n            }));\n          }\n        });\n      }\n    }\n  };\n};\n\nvar currentLocation = \"http://192.168.1.103:3000/api\";\n\nvar MainTabScreen = function MainTabScreen() {\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      cart = _React$useState2[0],\n      setCart = _React$useState2[1];\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      total = _React$useState4[0],\n      setTotal = _React$useState4[1];\n\n  function getTotal(cart) {\n    var sum = 0;\n\n    for (var i in cart) {\n      sum += cart[i].quantity;\n    }\n\n    setTotal(sum);\n  }\n\n  ;\n\n  function fetchData() {\n    axios.get(currentLocation + \"/cart\").then(function (res) {\n      var cart = res.data;\n      setCart(cart);\n      getTotal(cart);\n    }).catch(function (error) {\n      return console.log(error);\n    });\n  }\n\n  React.useEffect(function () {\n    fetchData();\n  }, [total]);\n  return React.createElement(Tab.Navigator, {\n    initialRouteName: \"Feed\",\n    barStyle: {\n      backgroundColor: \"pink\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 5\n    }\n  }, React.createElement(Tab.Screen, {\n    name: \"Home\",\n    component: HomeStackScreen,\n    options: {\n      tabBarLabel: \"Trang chủ\",\n      tabBarColor: \"#ff9999\",\n      tabBarIcon: function tabBarIcon(_ref7) {\n        var color = _ref7.color;\n        return React.createElement(MaterialCommunityIcons, {\n          name: \"home\",\n          color: color,\n          size: 26,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }), React.createElement(Tab.Screen, {\n    name: \"Notifications\",\n    component: MessagesStackScreen,\n    options: {\n      tabBarLabel: \"Thông báo\",\n      tabBarColor: \"#ffcc99\",\n      tabBarIcon: function tabBarIcon(_ref8) {\n        var color = _ref8.color;\n        return React.createElement(MaterialCommunityIcons, {\n          name: \"bell\",\n          color: color,\n          size: 26,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }), React.createElement(Tab.Screen, {\n    name: \"Cart\",\n    component: CartStackScreen,\n    options: {\n      tabBarBadge: total,\n      tabBarLabel: \"Giỏ hàng\",\n      tabBarColor: \"#99ff99\",\n      tabBarIcon: function tabBarIcon(_ref9) {\n        var color = _ref9.color;\n        return React.createElement(MaterialCommunityIcons, {\n          name: \"cart\",\n          color: color,\n          size: 26,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }), React.createElement(Tab.Screen, {\n    name: \"Order\",\n    component: OrderStackScreen,\n    listeners: resetHomeStackOnTabPress,\n    options: {\n      tabBarLabel: \"Đơn hàng\",\n      tabBarColor: \"#99ccff\",\n      tabBarIcon: function tabBarIcon(_ref10) {\n        var color = _ref10.color;\n        return React.createElement(MaterialCommunityIcons, {\n          name: \"receipt\",\n          color: color,\n          size: 26,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }\n  }), React.createElement(Tab.Screen, {\n    name: \"Account\",\n    component: AccountStackScreen,\n    options: {\n      tabBarLabel: \"Tài khoản\",\n      tabBarColor: \"#9999ff\",\n      tabBarIcon: function tabBarIcon(_ref11) {\n        var color = _ref11.color;\n        return React.createElement(MaterialCommunityIcons, {\n          name: \"account-circle\",\n          color: color,\n          size: 26,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }\n        });\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default MainTabScreen;","map":{"version":3,"sources":["C:/Users/PC/Documents/hocnhieuchut/reactnative/mobile-app/screens/RootTab/MainTabScreen.js"],"names":["createNativeStackNavigator","createMaterialBottomTabNavigator","React","axios","MaterialCommunityIcons","HomeScreen","MessagesScreen","CartScreen","AccountScreen","OrderScreen","Header","OrderDetails","HomeStack","MessagesStack","CartStack","AccountStack","OrderStack","Tab","HomeStackScreen","navigation","header","CartStackScreen","AccountStackScreen","headerShown","OrderStackScreen","MessagesStackScreen","TAB_TO_RESET","resetHomeStackOnTabPress","route","tabPress","e","state","dangerouslyGetState","nonTargetTabs","routes","filter","r","key","target","forEach","tab","tabName","name","stackKey","dispatch","StackActions","popToTop","currentLocation","MainTabScreen","useState","cart","setCart","total","setTotal","getTotal","sum","i","quantity","fetchData","get","then","res","data","catch","error","console","log","useEffect","backgroundColor","tabBarLabel","tabBarColor","tabBarIcon","color","tabBarBadge"],"mappings":"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","sourcesContent":["import { createNativeStackNavigator } from \"@react-navigation/native-stack\";\r\nimport { createMaterialBottomTabNavigator } from \"@react-navigation/material-bottom-tabs\";\r\nimport * as React from \"react\";\r\nimport axios from \"axios\";\r\nimport MaterialCommunityIcons from \"react-native-vector-icons/MaterialCommunityIcons\";\r\n\r\nimport HomeScreen from \"./HomeScreen\";\r\nimport MessagesScreen from \"./MessagesScreen\";\r\nimport CartScreen from \"./CartScreen\";\r\nimport AccountScreen from \"./AccountScreen\";\r\nimport OrderScreen from \"./OrderScreen\";\r\nimport Header from \"../../components/Header\";\r\nimport OrderDetails from \"../OrderDetails\";\r\n\r\nconst HomeStack = createNativeStackNavigator();\r\nconst MessagesStack = createNativeStackNavigator();\r\nconst CartStack = createNativeStackNavigator();\r\nconst AccountStack = createNativeStackNavigator();\r\nconst OrderStack = createNativeStackNavigator();\r\nconst Tab = createMaterialBottomTabNavigator();\r\n\r\nconst HomeStackScreen = ({ navigation }) => {\r\n  return (\r\n    <HomeStack.Navigator>\r\n      <HomeStack.Screen\r\n        name=\"Home\"\r\n        component={HomeScreen}\r\n        options={{ header: () => <Header name=\"Trang chủ\" /> }}\r\n      />\r\n    </HomeStack.Navigator>\r\n  );\r\n};\r\n\r\nconst CartStackScreen = ({ navigation }) => {\r\n  return (\r\n    <CartStack.Navigator>\r\n      <CartStack.Screen\r\n        name=\"Cart\"\r\n        component={CartScreen}\r\n        options={{ header: () => <Header name=\"Giỏ hàng\" /> }}\r\n      />\r\n    </CartStack.Navigator>\r\n  );\r\n};\r\n\r\nconst AccountStackScreen = ({ navigation }) => {\r\n  return (\r\n    <AccountStack.Navigator>\r\n      <AccountStack.Screen\r\n        name=\"Account\"\r\n        component={AccountScreen}\r\n        options={{ headerShown: false }}\r\n      />\r\n    </AccountStack.Navigator>\r\n  );\r\n};\r\n\r\nconst OrderStackScreen = ({ navigation }) => {\r\n  return (\r\n    <OrderStack.Navigator>\r\n      <OrderStack.Screen\r\n        name=\"Order\"\r\n        component={OrderScreen}\r\n        options={{ header: () => <Header name=\"Đơn hàng\" /> }}\r\n      />\r\n      <OrderStack.Screen\r\n        name=\"OrderDetails\"\r\n        component={OrderDetails}\r\n        options={{ header: () => <Header name=\"Thông tin đơn hàng\" /> }}\r\n      />\r\n    </OrderStack.Navigator>\r\n  );\r\n};\r\n\r\nconst MessagesStackScreen = ({ navigation }) => {\r\n  return (\r\n    <MessagesStack.Navigator>\r\n      <MessagesStack.Screen\r\n        options={{ header: () => <Header name=\"Thông báo\" /> }}\r\n        name=\"Messages\"\r\n        component={MessagesScreen}\r\n      />\r\n    </MessagesStack.Navigator>\r\n  );\r\n};\r\n\r\nconst TAB_TO_RESET = 'Order';\r\nconst resetHomeStackOnTabPress = ({ navigation, route }) => ({\r\n  tabPress: (e) => {\r\n    const state = navigation.dangerouslyGetState();\r\n\r\n    if (state) {\r\n      // Grab all the tabs that are NOT the one we just pressed\r\n      const nonTargetTabs = state.routes.filter((r) => r.key !== e.target);\r\n\r\n      nonTargetTabs.forEach((tab) => {\r\n        // Find the tab we want to reset and grab the key of the nested stack\r\n        const tabName = tab?.name;\r\n        const stackKey = tab?.state?.key;\r\n\r\n        if (stackKey && tabName === TAB_TO_RESET) {\r\n          // Pass the stack key that we want to reset and use popToTop to reset it\r\n          navigation.dispatch({\r\n            ...StackActions.popToTop(),\r\n            target: stackKey,\r\n          });\r\n        }\r\n      });\r\n    }\r\n  },\r\n});\r\n\r\nconst currentLocation = \"http://192.168.1.103:3000/api\";\r\n\r\nconst MainTabScreen = () => {\r\n  const [cart, setCart] = React.useState([]);\r\n  const [total, setTotal] = React.useState(0);\r\n\r\n  function getTotal(cart) {\r\n    let sum = 0;\r\n    for (const i in cart) {\r\n      sum += cart[i].quantity;\r\n    }\r\n    setTotal(sum);\r\n  };\r\n\r\n  function fetchData() {\r\n    axios.get(`${currentLocation}/cart`)\r\n      .then(res => {\r\n        const cart = res.data;\r\n        setCart(cart);\r\n        getTotal(cart);\r\n      })\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    fetchData();\r\n  }, [total]);\r\n\r\n  return (\r\n    <Tab.Navigator\r\n      initialRouteName=\"Feed\"\r\n      barStyle={{ backgroundColor: \"pink\" }}\r\n    >\r\n      <Tab.Screen\r\n        name=\"Home\"\r\n        component={HomeStackScreen}\r\n        options={{\r\n          tabBarLabel: \"Trang chủ\",\r\n          tabBarColor: \"#ff9999\",\r\n          tabBarIcon: ({ color }) => (\r\n            <MaterialCommunityIcons name=\"home\" color={color} size={26} />\r\n          )\r\n        }}\r\n      />\r\n      <Tab.Screen\r\n        name=\"Notifications\"\r\n        component={MessagesStackScreen}\r\n        options={{\r\n          tabBarLabel: \"Thông báo\",\r\n          tabBarColor: \"#ffcc99\",\r\n          tabBarIcon: ({ color }) => (\r\n            <MaterialCommunityIcons name=\"bell\" color={color} size={26} />\r\n          ),\r\n        }}\r\n      />\r\n      <Tab.Screen\r\n        name=\"Cart\"\r\n        component={CartStackScreen}\r\n        options={{\r\n          tabBarBadge: total,\r\n          tabBarLabel: \"Giỏ hàng\",\r\n          tabBarColor: \"#99ff99\",\r\n          tabBarIcon: ({ color }) => (\r\n            <MaterialCommunityIcons name=\"cart\" color={color} size={26} />\r\n          )\r\n        }}\r\n      />\r\n      <Tab.Screen\r\n        name=\"Order\"\r\n        component={OrderStackScreen}\r\n        listeners={resetHomeStackOnTabPress}\r\n        options={{\r\n          tabBarLabel: \"Đơn hàng\",\r\n          tabBarColor: \"#99ccff\",\r\n          tabBarIcon: ({ color }) => (\r\n            <MaterialCommunityIcons name=\"receipt\" color={color} size={26} />\r\n          ),\r\n        }}\r\n      />\r\n      <Tab.Screen\r\n        name=\"Account\"\r\n        component={AccountStackScreen}\r\n        options={{\r\n          tabBarLabel: \"Tài khoản\",\r\n          tabBarColor: \"#9999ff\",\r\n          tabBarIcon: ({ color }) => (\r\n            <MaterialCommunityIcons name=\"account-circle\" color={color} size={26} />\r\n          ),\r\n        }}\r\n      />\r\n    </Tab.Navigator>\r\n  );\r\n};\r\n\r\nexport default MainTabScreen;\r\n"]},"metadata":{},"sourceType":"module"}