{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Documents\\\\hocnhieuchut\\\\reactnative\\\\mobile-app\\\\components\\\\Products\\\\ProductListItem.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ProductImg from \"../../assets/product.png\";\nimport { useNavigation } from '@react-navigation/native';\nvar currentLocation = \"http://192.168.1.103:3000/api\";\n\nfunction ProductListItem(props) {\n  var product = props.product,\n      onPress = props.onPress;\n  var navigation = useNavigation();\n\n  var handleBuy = function handleBuy(product) {\n    navigation.navigate('Feed', {\n      change: 1\n    });\n    axios.get(currentLocation + \"/cart\").then(function (res) {\n      var cart = res.data;\n      var index = cart.findIndex(function (element) {\n        return element.id == product.id;\n      });\n\n      if (index != -1) {\n        var quantity = {\n          \"quantity\": cart[index].quantity + 1\n        };\n        console.log(quantity);\n        axios.patch(currentLocation + \"/cart/\" + product.id, quantity);\n      } else {\n        var newProduct = {\n          \"id\": product.id,\n          \"name\": product.name,\n          \"category\": product.category,\n          \"price\": product.price,\n          \"quantity\": 1\n        };\n        axios.post(currentLocation + \"/cart\", newProduct);\n      }\n    }).catch(function (error) {\n      return console.log(error);\n    });\n  };\n\n  return React.createElement(TouchableOpacity, {\n    onPress: onPress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, React.createElement(Image, {\n    style: styles.productImg,\n    source: ProductImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    style: styles.productTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, product.name), React.createElement(Text, {\n    style: styles.subText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, product.category), React.createElement(View, {\n    style: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.subText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, product.price), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return handleBuy(product);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"Mua +\")))));\n}\n\nexport default ProductListItem;\nvar styles = StyleSheet.create({\n  container: {\n    padding: 4,\n    borderRadius: 4,\n    backgroundColor: '#FFF',\n    elevation: 5,\n    marginBottom: 8\n  },\n  productImg: {\n    height: 75,\n    width: 75,\n    marginLeft: 'auto',\n    marginRight: 'auto'\n  },\n  productTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginVertical: 4\n  },\n  row: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  subText: {\n    fontSize: 13,\n    marginRight: 'auto'\n  },\n  price: {\n    color: 'blue',\n    fontWeight: 'bold',\n    fontSize: 13,\n    textAlign: 'right'\n  }\n});","map":{"version":3,"sources":["C:/Users/PC/Documents/hocnhieuchut/reactnative/mobile-app/components/Products/ProductListItem.js"],"names":["React","axios","ProductImg","useNavigation","currentLocation","ProductListItem","props","product","onPress","navigation","handleBuy","navigate","change","get","then","res","cart","data","index","findIndex","element","id","quantity","console","log","patch","newProduct","name","category","price","post","catch","error","styles","container","productImg","productTitle","subText","row","StyleSheet","create","padding","borderRadius","backgroundColor","elevation","marginBottom","height","width","marginLeft","marginRight","fontSize","fontWeight","marginVertical","flexDirection","alignItems","color","textAlign"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { Image, Text, View, StyleSheet, TouchableOpacity } from 'react-native'\r\nimport ProductImg from '../../assets/product.png'\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\nconst currentLocation = \"http://192.168.1.103:3000/api\";\r\n\r\nfunction ProductListItem(props) {\r\n  const { product, onPress } = props;\r\n  const navigation = useNavigation();\r\n\r\n  const handleBuy = (product) => {\r\n    navigation.navigate('Feed', { change: 1 });\r\n    axios.get(`${currentLocation}/cart`)\r\n      .then(res => {\r\n        const cart = res.data;\r\n        const index = cart.findIndex((element) => element.id == product.id);\r\n        if (index != -1) {\r\n          const quantity = { \"quantity\": cart[index].quantity + 1 };\r\n          console.log(quantity);\r\n          axios.patch(`${currentLocation}/cart/${product.id}`, quantity);\r\n        } else {\r\n          const newProduct = {\r\n            \"id\": product.id,\r\n            \"name\": product.name,\r\n            \"category\": product.category,\r\n            \"price\": product.price,\r\n            \"quantity\": 1\r\n          }\r\n          axios.post(`${currentLocation}/cart`, newProduct);\r\n        }\r\n      })\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  return (\r\n    <TouchableOpacity\r\n      onPress={onPress}\r\n    >\r\n      <View style={styles.container}>\r\n        <Image style={styles.productImg} source={ProductImg} />\r\n        <Text style={styles.productTitle}>{product.name}</Text>\r\n        <Text style={styles.subText}>{product.category}</Text>\r\n        <View style={styles.row}>\r\n          <Text style={styles.subText}>{product.price}</Text>\r\n          <TouchableOpacity\r\n            onPress={() => handleBuy(product)}\r\n          >\r\n            <Text style={styles.price}>Mua +</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n}\r\n\r\nexport default ProductListItem;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    padding: 4,\r\n    borderRadius: 4,\r\n    backgroundColor: '#FFF',\r\n    elevation: 5,\r\n    marginBottom: 8\r\n  },\r\n  productImg: {\r\n    height: 75,\r\n    width: 75,\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto'\r\n  },\r\n  productTitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    marginVertical: 4\r\n  },\r\n  row: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center'\r\n  },\r\n  subText: {\r\n    fontSize: 13,\r\n    marginRight: 'auto'\r\n  },\r\n  price: {\r\n    color: 'blue',\r\n    fontWeight: 'bold',\r\n    fontSize: 13,\r\n    textAlign: 'right',\r\n\r\n  }\r\n});"]},"metadata":{},"sourceType":"module"}